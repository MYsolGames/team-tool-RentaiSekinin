<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>チーム振り分けシステム</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    textarea { width: 100%; height: 100px; }
    select, button { margin-top: 10px; display: block; }
    .team { margin-top: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 8px; }
  </style>
</head>
<body>
  <h1>チーム振り分けシステム</h1>

  <label for="senior-members">上級メンバー一覧（改行区切り）:</label>
  <textarea id="senior-members" placeholder="例：\n田中\n佐藤"></textarea>

  <label for="junior-members">中級メンバー一覧（改行区切り）:</label>
  <textarea id="junior-members" placeholder="例：\n鈴木\n高橋"></textarea>

  <label for="team-count">チーム数:</label>
  <select id="team-count">
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
  </select>

  <button onclick="createTeams()">チームを作成</button>

  <div id="team-output"></div>

  <script>
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function distributeMembers(members, teamCount) {
      const teams = Array.from({ length: teamCount }, () => []);
      members.forEach((member, index) => {
        teams[index % teamCount].push(member);
      });
      return teams;
    }

    function createTeams() {
      const seniorText = document.getElementById("senior-members").value.trim();
      const juniorText = document.getElementById("junior-members").value.trim();
      const teamCount = parseInt(document.getElementById("team-count").value);

      const seniorMembers = seniorText.split(/\n+/).filter(name => name.trim() !== "");
      const juniorMembers = juniorText.split(/\n+/).filter(name => name.trim() !== "");

      shuffle(seniorMembers);
      shuffle(juniorMembers);

      const seniorTeams = distributeMembers(seniorMembers, teamCount);
      const juniorTeams = distributeMembers(juniorMembers, teamCount);

      const output = document.getElementById("team-output");
      output.innerHTML = "";

      for (let i = 0; i < teamCount; i++) {
        const div = document.createElement("div");
        div.className = "team";
        const teamMembers = seniorTeams[i].concat(juniorTeams[i]);
        div.innerHTML = `<strong>チーム${i + 1}:</strong> ${teamMembers.join(", ")}`;
        output.appendChild(div);
      }
    }
  </script>
</body>
</html>
